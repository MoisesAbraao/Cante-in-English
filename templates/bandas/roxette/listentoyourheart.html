<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>Listen To Your Heart</title>

    <link href="../../../static/css/bootstrap.min.css" rel="stylesheet">
    <!-- <script type="text/javascript" src="../../../static/js/scripts.js"></script> -->

   
    <style>
    body {
        padding-top: 70px;
        /* Required padding for .navbar-fixed-top. Remove if using .navbar-static-top. Change if height of navigation changes. */
    }
    </style>

    <style type="text/css">
        .errou {
            color: red;
        }
        .acertou {
            color: green;
        }
    </style>


</head>

<body ng-app="asdApp" ng-controller="asdCtrl">
    <nav class="navbar navbar-inverse navbar-fixed-top" role="navigation">
        <div class="container">
            <!-- Brand and toggle get grouped for better mobile display -->
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="../../../index.html">Cante in English</a>
            </div>
            
            <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                <ul class="nav navbar-nav">
                    <li>
                        <a href="../../../templates/bandas.html">Bandas</a>
                    </li>
                    <li>
                        <a href="#">Alguma Coisa</a>
                    </li>
                    <li>
                        <a href="#">Alguma Coisa</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    
    <div class="container">
    <h1>Listen To Your Heart</h1> 

        <div class="row">
            <div class="col-lg-4">
             <span ng-repeat="palavra in letra_palavras track by $index">{{ get_palavra($index) }}<input type="text" ng-if="get_palavra($index) == ''" ng-model="palavras_usuario[palavras_faltando.indexOf($index)]" ng-class="{'acertou': acertou($index), 'errou': !acertou($index)}"> <br ng-if="quebra_linha($index)" /></span>

    <script type="text/javascript" src="../../../static/js/angular.min.js"></script>
    <script type="text/javascript">
        var app = angular.module('asdApp', []);

        app.controller('asdCtrl', ['$scope', function($scope){
            $scope.palavras_faltando_n = 10;
            $scope.palavras_faltando = [];
            $scope.palavras_usuario = [];
            $scope.letra =
                
                "I know there's something in the wake of your smile\n" +
                                    "I get a notion from the look in your eyes, yea\n" +
                                    "You've built a love, but that love falls apart\n" +
                                    "Your little piece of heaven turns to dark\n" +

                                    "Listen to your heart\n" +
                                    "When he's calling for you\n" +
                                    "Listen to your heart\n" +
                                    "There's nothing else you can do\n" +
                                    "I don't know where you're going\n" +
                                    "And I don't know why\n" +
                                    "But listen to your heart\n" +
                                    "Before you tell him goodbye\n" +

                                    "Sometimes you wonder if this fight is worthwhile\n" +
                                    "The precious moments are all lost in the tide, yea\n" +
                                    "They're swept away and nothing is what is seems\n" +
                                    "The feeling of belonging to your dreams\n" +

                                    "Listen to your heart\n" +
                                    "When he's calling for you\n" +
                                    "Listen to your heart\n" +
                                    "There's nothing else you can do\n" +
                                    "I don't know where you're going\n" +
                                    "And I don't know why\n" +
                                    "But listen to your heart\n" +
                                    "Before you tell him goodbye\n" +

                                    "And there are voices\n" +
                                    "That want to be heard\n" +
                                    "So much to mention\n" +
                                    "But you can't find the words\n" +
                                    "The scent of magic\n" +
                                    "The beauty that's been\n" +
                                    "When love was wilder than the wind\n" +

                                    "Listen to your heart\n" +
                                    "Take a listen to it\n" +
                                    "He's calling for you\n" +
                                    "Listen to your heart\n" +
                                    "Take a listen to it\n" +
                                    "Else you can do\n" +
                                    "I don't know where you're going\n" +
                                    "And I don't know why\n" +
                                    "But listen to your heart\n" +
                                    "Before\n" +

                                    "Listen to your heart!\n" +
                                    "Take a listen to it\n" +
                                    "He's calling for you\n" +
                                    "Listen to your heart!\n" +
                                    "Take a listen to it\n" +
                                    "Else you can do\n" +
                                    "I don't know where you're going\n" +
                                    "And I don't know why\n" +
                                    "But listen to your heart\n" +
                                    "Before you tell him goodbye\n" +

                                    "(Listen to your heart)\n" +
                                    "(Listen to your heart)\n" +
                                    "(Listen to your heart)\n" +
                                    "(Listen to your heart)\n" +
                                    "(Listen to your heart)";
                
                // <button class="btn btn-primary btn-md" onclick="#">salvar</button>
                $scope._quebra_linha = [];
            $scope.letra_linhas = $scope.letra.split('\n');
            $scope.letra_palavras = $scope.letra_linhas.join(' ').split(' ');

            $scope.get_palavra = function(n){
                return ($scope.palavras_faltando.indexOf(n) == -1 ? $scope.letra_palavras[n] : '');
            }

            $scope.sortear_palavras = function(){
                $scope.palavras_faltando = [];
                while($scope.palavras_faltando.length < $scope.palavras_faltando_n){
                    var n = parseInt(Math.random() * $scope.letra_palavras.length);
                    if($scope.palavras_faltando.indexOf(n) == -1){
                        $scope.palavras_faltando.push(n);
                        $scope.palavras_usuario.push('');
                    }
                }
            }

            $scope.quebrar_linhas = function(){
                $scope._quebra_linha = [];
                var total_palavras = 0;
                for(var n = 0; n < $scope.letra_linhas.length; n++){
                    total_palavras += $scope.letra_linhas[n].split(' ').length;
                    $scope._quebra_linha.push(total_palavras - 1);
                }
            }

            $scope.quebra_linha = function(n){
                return $scope._quebra_linha.indexOf(n) != -1;
            }

            $scope.acertou = function(n){
                return $scope.letra_palavras[n].toLowerCase() == $scope.palavras_usuario[$scope.palavras_faltando.indexOf(n)].toLowerCase();
            }

            $scope.sortear_palavras();
            $scope.quebrar_linhas();
        }]);
    </script>
                              
            </div>
           <!--  <div class="col-ms-1">
                <iframe width="420" height="315" src="#" frameborder="0" allowfullscreen></iframe>
            </div> -->
        </div>

    </div>

        <script src="../js/jquery.js"></script>

        <script src="../js/bootstrap.min.js"></script>

</body>

</html>