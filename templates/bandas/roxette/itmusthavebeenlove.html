<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>It Must Have Been Love</title>

    <link href="../../../static/css/bootstrap.min.css" rel="stylesheet">
    <!-- <script type="text/javascript" src="../../../static/js/scripts.js"></script> -->

   
    <style>
    body {
        padding-top: 70px;
        /* Required padding for .navbar-fixed-top. Remove if using .navbar-static-top. Change if height of navigation changes. */
    }
    </style>

    <style type="text/css">
        .errou {
            color: red;
        }
        .acertou {
            color: green;
        }
    </style>


</head>

<body ng-app="asdApp" ng-controller="asdCtrl">
    <nav class="navbar navbar-inverse navbar-fixed-top" role="navigation">
        <div class="container">
            <!-- Brand and toggle get grouped for better mobile display -->
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="../../../index.html">Cante in English</a>
            </div>
            
            <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                <ul class="nav navbar-nav">
                    <li>
                        <a href="../../../templates/bandas.html">Bandas</a>
                    </li>
                    <li>
                        <a href="#">Alguma Coisa</a>
                    </li>
                    <li>
                        <a href="#">Alguma Coisa</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    
    <div class="container">
    <h1>It Must Have Been Love</h1> 

        <div class="row">
            <div class="col-lg-4">
             <span ng-repeat="palavra in letra_palavras track by $index">{{ get_palavra($index) }}<input type="text" ng-if="get_palavra($index) == ''" ng-model="palavras_usuario[palavras_faltando.indexOf($index)]" ng-class="{'acertou': acertou($index), 'errou': !acertou($index)}"> <br ng-if="quebra_linha($index)" /></span>

    <script type="text/javascript" src="../../../static/js/angular.min.js"></script>
    <script type="text/javascript">
        var app = angular.module('asdApp', []);

        app.controller('asdCtrl', ['$scope', function($scope){
            $scope.palavras_faltando_n = 10;
            $scope.palavras_faltando = [];
            $scope.palavras_usuario = [];
            $scope.letra =
                
                "It must have been love but it's over now\n" +

				"Lay a whisper on my pillow\n" +
				"Leave the winter on the ground\n" +
				"I wake up lonely, there's air of silence\n" +
				"In the bedroom and all around (and all around)\n" +

				"Touch me now, I close my eyes\n" +
				"And dream away\n" +

				"It must have been love but it's over now\n" +
				"It must have been good but I lost it somehow\n" +
				"It must have been love but it's over now\n" +
				"From the moment we touched til the time had run out\n" +

				"Make-believing we're together\n" +
				"That I'm sheltered by your heart\n" +
				"But in and outside I've turned to water\n" +
				"Like a teardrop in your palm\n" +

				"And it's a hard winter's day\n" +
				"I dream awayn" +

				"It must have been love but it's over now\n" +
				"(it must have been love but it's over now)\n" +
				"It was all that I wanted, now I'm living without\n" +
				"It must have been love but it's over now\n" +
				"(it must have been love, the winds blows)\n" +
				"It's where the water flows\n" +
				"It's where the wind blows\n" +

				"It must have been love but it's over now\n" +
				"(it must have been love but it's over now)\n" +
				"It must have been good but I lost it somehow\n" +
				"It must have been love but it's over now\n" +
				"(it must have been love but it's over now)\n" +
				"From the moment we touched til the time had run out\n" +

				"Yeah! It must have been love but it's over now\n" +
				"(it must have been love but it's over now)\n" +
				"It was all that I wanted, now I'm living without\n" +
				"It must have been love but it's over now\n" +
				"(the winds blows)\n" +
				"It's where the water flows\n" +
				"It's where the wind blows\n" +

				"Ohhh! (it must have been love but it's over now)\n" +
				"But it's over now\n" +
				"Nooowww!\n" +
				"(it must have been love but it's over now)\n" +
				"(it must have been love but it's over now)\n" +
				"Nooowww!";
                
				// <button class="btn btn-primary btn-md" onclick="#">salvar</button>
                $scope._quebra_linha = [];
            $scope.letra_linhas = $scope.letra.split('\n');
            $scope.letra_palavras = $scope.letra_linhas.join(' ').split(' ');

            $scope.get_palavra = function(n){
                return ($scope.palavras_faltando.indexOf(n) == -1 ? $scope.letra_palavras[n] : '');
            }

            $scope.sortear_palavras = function(){
                $scope.palavras_faltando = [];
                while($scope.palavras_faltando.length < $scope.palavras_faltando_n){
                    var n = parseInt(Math.random() * $scope.letra_palavras.length);
                    if($scope.palavras_faltando.indexOf(n) == -1){
                        $scope.palavras_faltando.push(n);
                        $scope.palavras_usuario.push('');
                    }
                }
            }

            $scope.quebrar_linhas = function(){
                $scope._quebra_linha = [];
                var total_palavras = 0;
                for(var n = 0; n < $scope.letra_linhas.length; n++){
                    total_palavras += $scope.letra_linhas[n].split(' ').length;
                    $scope._quebra_linha.push(total_palavras - 1);
                }
            }

            $scope.quebra_linha = function(n){
                return $scope._quebra_linha.indexOf(n) != -1;
            }

            $scope.acertou = function(n){
                return $scope.letra_palavras[n].toLowerCase() == $scope.palavras_usuario[$scope.palavras_faltando.indexOf(n)].toLowerCase();
            }

            $scope.sortear_palavras();
            $scope.quebrar_linhas();
        }]);
    </script>
                              
            </div>
           <!--  <div class="col-ms-1">
				<iframe width="420" height="315" src="#" frameborder="0" allowfullscreen></iframe>
            </div> -->
        </div>

    </div>

        <script src="../js/jquery.js"></script>

        <script src="../js/bootstrap.min.js"></script>

</body>

</html>